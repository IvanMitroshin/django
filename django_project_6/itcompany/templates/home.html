{% extends 'base.html' %}

{% block title %}Главная - ITCompany{% endblock %}

{% block content %}
<h1 class="page-title">Добро пожаловать</h1>
<p class="page-description">
    Система управления сотрудниками и рабочими местами.
    Информация о сотрудниках, их навыках и рабочих местах.
</p>

<div class="stats">
    <h2>Сотрудники</h2>
    <div class="stat-card">
        <h3>Всего сотрудников: {{ total_employees }}</h3>
    </div>
</div>

<h2>Последние сотрудники</h2>
<div class="employee-grid">
    {% for employee in employees %}
    <a href="{% url 'employee_detail' employee.id %}" class="employee-card-link">
        <div class="employee-card">
            {% if employee.first_image %}
            <div class="employee-photo">
                <img src="{{ employee.first_image.image.url }}" alt="{{ employee.last_name }} {{ employee.first_name }}"
                    class="profile-image">
            </div>
            {% endif %}
            <div class="employee-info">
                <div class="employee-name">
                    {{ employee.last_name }} {{ employee.first_name }}
                </div>
                <div class="employee-experience">
                    Стаж: {{ employee.work_days }} дней
                </div>
                <div class="employee-skills">
                    {% for skill in employee.skills.all|slice:":3" %}
                    <span class="skill-tag">{{ skill.skill.get_name_display }}</span>
                    {% endfor %}
                    {% if employee.skills.count > 3 %}
                    <span class="skill-tag">+{{ employee.skills.count|add:"-3" }}</span>
                    {% endif %}
                </div>
            </div>
        </div>
    </a>
    {% endfor %}
</div>
{% endblock %}